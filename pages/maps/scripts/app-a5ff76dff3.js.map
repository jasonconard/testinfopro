{"version":3,"sources":["scripts/app-a5ff76dff3.js"],"names":["angular","module","CartController","$scope","removeItem","index","indexCtrl","$parent","isNumber","cart","length","splice","refreshSum","vm","this","controller","$inject","runBlock","$log","debug","run","routerConfig","$stateProvider","$urlRouterProvider","state","url","templateUrl","otherwise","config","IndexController","addToCart","cartPanelOpen","push","pieces","sum","reduce","prev","now","cost","cartLength","basePicUrl","ref","name","car","pic","desc","constant","moment","$logProvider","debugEnabled","$templateCache","put"],"mappings":"CAAA,WACE,YAEAA,SACGC,OAAO,eAAgB,YAAa,aAAc,iBAIvD,WACE,YASA,SAASC,GAAeC,GAQtB,QAASC,GAAWC,GAClB,GAAIC,GAAYH,EAAOI,QAAQF,KACnB,OAATA,GAAiBL,QAAQQ,SAASH,IAAUC,EAAUG,KAAKC,QAAUL,GACtEC,EAAUG,KAAKE,OAAON,EAAO,GAE/BC,EAAUM,aAZZ,GAAIC,GAAKC,IACTD,GAAGT,WAAaA,EATlBJ,QACGC,OAAO,eACPc,WAAW,iBAAkBb,GAEhCA,EAAec,SAAU,aAqB3B,WACE,YAOA,SAASC,GAASC,GAChBA,EAAKC,MAAM,gBANbF,EAASD,SAAW,QAApBhB,QACGC,OAAO,eACPmB,IAAIH,MAST,WACE,YAOA,SAASI,GAAaC,EAAgBC,GACpCD,EACGE,MAAM,QACLC,IAAK,IACLC,YAAa,uBAGjBH,EAAmBI,UAAU,KAX/BN,EAAaL,SAAW,iBAAkB,sBAD1ChB,QACGC,OAAO,eACP2B,OAAOP,MAeZ,WACE,YAOA,SAASQ,KA2FP,QAASC,GAAUzB,GACK,IAAnBQ,EAAGJ,KAAKC,SACTG,EAAGkB,eAAgB,GAErBlB,EAAGJ,KAAKuB,KAAKnB,EAAGoB,OAAO5B,IACvBO,IAMF,QAASA,KACPC,EAAGqB,IAAMrB,EAAGJ,KAAK0B,OAAO,SAASC,EAAMC,GACrC,MAAOD,IAAQC,EAAIC,MAAQ,GAC1B,GACHzB,EAAG0B,WAAa1B,EAAGJ,KAAKC,OAxG1B,GAAIG,GAAKC,IAETD,GAAGJ,QACHI,EAAGqB,IAAM,EACTrB,EAAG0B,WAAa,EAChB1B,EAAGiB,UAAYA,EACfjB,EAAGkB,eAAgB,EACnBlB,EAAGD,WAAaA,EAChBC,EAAG2B,WAAa,iBAEhB3B,EAAGoB,SAECQ,IAAK,IACLC,KAAM,eACNC,IAAK,cACLL,KAAM,GACNM,IAAK,yBACLC,KAAM,gDAGNJ,IAAK,IACLC,KAAM,eACNC,IAAK,cACLL,KAAM,IACNM,IAAK,yBACLC,KAAM,wDAGNJ,IAAK,IACLC,KAAM,2BACNC,IAAK,cACLL,KAAM,IACNM,IAAK,mCACLC,KAAM,+DAGNJ,IAAK,IACLC,KAAM,sBACNC,IAAK,aACLL,KAAM,IACNM,IAAK,kCACLC,KAAM,uDAGNJ,IAAK,IACLC,KAAM,kBACNC,IAAK,aACLL,KAAM,KACNM,IAAK,gCACLC,KAAM,yDAGNJ,IAAK,IACLC,KAAM,sBACNC,IAAK,qBACLL,KAAM,IACNM,IAAK,sCACLC,KAAM,6DAGNJ,IAAK,IACLC,KAAM,4BACNC,IAAK,cACLL,KAAM,IACNM,IAAK,mCACLC,KAAM,oEAGNJ,IAAK,IACLC,KAAM,SACNC,IAAK,eACLL,KAAM,GACNM,IAAK,iCACLC,KAAM,iDAGNJ,IAAK,IACLC,KAAM,UACNC,IAAK,eACLL,KAAM,KACNM,IAAK,uCACLC,KAAM,sDAxFZ7C,QACGC,OAAO,eACPc,WAAW,kBAAmBc,MAmHnC,WACE,YAEA7B,SACGC,OAAO,eACP6C,SAAS,SAAUC,WAIxB,WACE,YAOA,SAASnB,GAAOoB,GAEdA,EAAaC,cAAa,GAL5BrB,EAAOZ,SAAW,gBAFlBhB,QACGC,OAAO,eACP2B,OAAOA,MAUZ5B,QAAQC,OAAO,eAAemB,KAAK,iBAAkB,SAAS8B,GAAiBA,EAAeC,IAAI,qBAAqB,qlBACvHD,EAAeC,IAAI,gCAAgC","file":"scripts/app-a5ff76dff3.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('infoProTest', ['ngAnimate', 'ngResource', 'ui.router']);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('infoProTest')\n    .controller('CartController', CartController);\n\n  CartController.$inject =['$scope'];\n\n  /** @ngInject */\n  function CartController($scope) {\n    var vm = this;\n    vm.removeItem = removeItem;\n\n    /**\n     * Remove a piece in cart from an index\n     * @param {Number} index\n     */\n    function removeItem(index) {\n      var indexCtrl = $scope.$parent.index;\n      if(index != null && angular.isNumber(index) && indexCtrl.cart.length >= index) {\n        indexCtrl.cart.splice(index, 1);\n      }\n      indexCtrl.refreshSum();\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('infoProTest')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('infoProTest')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('main', {\n        url: '/',\n        templateUrl: 'app/main/main.html'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('infoProTest')\r\n    .controller('IndexController', IndexController);\r\n\r\n  /** @ngInject */\r\n  function IndexController() {\r\n\r\n    var vm = this;\r\n\r\n    vm.cart = [];\r\n    vm.sum = 0;\r\n    vm.cartLength = 0;\r\n    vm.addToCart = addToCart;\r\n    vm.cartPanelOpen = false;\r\n    vm.refreshSum = refreshSum;\r\n    vm.basePicUrl = 'assets/images/';\r\n\r\n    vm.pieces = [\r\n      {\r\n        ref: '1',\r\n        name: 'Filtre à air',\r\n        car: 'Honda Civic',\r\n        cost: 25.,\r\n        pic: 'filtre-a-air-civic.JPG',\r\n        desc: 'Filtre à air pour Honda Civic LSI modèle 92'\r\n      },\r\n      {\r\n        ref: '2',\r\n        name: 'Arbre à came',\r\n        car: 'Honda Civic',\r\n        cost: 600.,\r\n        pic: 'arbre-a-came-civic.jpg',\r\n        desc: 'Arbre à came pour moteur VTEC sur Civic ou Del Sol.'\r\n      },\r\n      {\r\n        ref: '3',\r\n        name: 'Collecteur d\\'échappement',\r\n        car: 'Honda Civic',\r\n        cost: 800.,\r\n        pic: 'collecteur-echappement-civic.jpg',\r\n        desc: 'Collecteur d\\'échappement titane pour swap sur Honda Civic.'\r\n      },\r\n      {\r\n        ref: '4',\r\n        name: 'Ligne d\\'échappement',\r\n        car: 'Mazda RX-7',\r\n        cost: 700.,\r\n        pic: 'ligne-echappement-mazda-rx7.JPG',\r\n        desc: 'Ligne d\\'échappement Invidia GT-300 pour Mazda RX-7'\r\n      },\r\n      {\r\n        ref: '5',\r\n        name: 'Kit gros freins',\r\n        car: 'Mazda RX-7',\r\n        cost: 2800.,\r\n        pic: 'kit-gros-freins-mazda-rx7.jpg',\r\n        desc: 'Kit gros freins pour Mazda RX-7 fabriqué par Wilwood'\r\n      },\r\n      {\r\n        ref: '6',\r\n        name: 'Radiateur Mishimoto',\r\n        car: 'Nissan Skyline R33',\r\n        cost: 360.,\r\n        pic: 'radiateur-mishimoto-skyline-r33.jpg',\r\n        desc: 'Radiateur pour Nissan Skyline R33 de la marque Mishimoto'\r\n      },\r\n      {\r\n        ref: '7',\r\n        name: 'Capot en fibre de carbone',\r\n        car: 'Honda S2000',\r\n        cost: 800.,\r\n        pic: 'capot-carbon-aeroworks-s2000.jpg',\r\n        desc: 'Capot en fibre de carbone pour Honda S2000 réalisé par Aerowork'\r\n      },\r\n      {\r\n        ref: '8',\r\n        name: 'Valves',\r\n        car: 'Toyota Supra',\r\n        cost: 22.,\r\n        pic: 'valves-ferrea-toyota-supra.jpg',\r\n        desc: 'Valves de la marque Ferrea pour Toyota Supra'\r\n      },\r\n      {\r\n        ref: '9',\r\n        name: 'Pistons',\r\n        car: 'Toyota Supra',\r\n        cost: 1439.,\r\n        pic: 'pistons-performance-toyota-supra.jpg',\r\n        desc: 'Pistons de la marque CP Pistons pour Toyota Supra'\r\n      }\r\n    ];\r\n\r\n    /**\r\n     * Add a piece in cart\r\n     * @param {Number} index\r\n     */\r\n    function addToCart(index) {\r\n      if(vm.cart.length === 0) {\r\n        vm.cartPanelOpen = true;\r\n      }\r\n      vm.cart.push(vm.pieces[index]);\r\n      refreshSum();\r\n    }\r\n\r\n    /**\r\n     * Modify sum and length for new values in cart.\r\n     */\r\n    function refreshSum () {\r\n      vm.sum = vm.cart.reduce(function(prev, now){\r\n        return prev += now.cost || 0;\r\n      }, 0);\r\n      vm.cartLength = vm.cart.length;\r\n    }\r\n  }\r\n})();\r\n\n/* global moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('infoProTest')\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('infoProTest')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n  }\n\n})();\n\nangular.module(\"infoProTest\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div class=\\\"ipro-piece-container\\\"><h2>Liste des pièces disponibles</h2><div class=\\\"ipro-piece\\\" ng-repeat=\\\"piece in index.pieces\\\" ng-click=\\\"index.addToCart($index)\\\"><img ng-src=\\\"{{index.basePicUrl + piece.pic}}\\\"><div class=\\\"ipro-piece-footer\\\"><div class=\\\"ipro-piece-part\\\"><div class=\\\"ipro-piece-title-content\\\"><div class=\\\"ipro-piece-title\\\">{{piece.name}}</div><div class=\\\"ipro-piece-subtitle\\\">{{piece.car}}</div></div><div class=\\\"ipro-piece-cost-content\\\">${{piece.cost}}</div></div><div class=\\\"ipro-piece-part alone-part\\\"><span ng-if=\\\"piece.desc\\\">\\\"{{piece.desc}}\\\"</span></div></div></div></div>\");\n$templateCache.put(\"app/components/cart/cart.html\",\"<div class=\\\"ipro-cart-elem\\\" ng-repeat=\\\"item in index.cart track by $index\\\"><div class=\\\"ipro-cart-section\\\"><div class=\\\"ipro-cart-thumbnail\\\"><img ng-src=\\\"{{index.basePicUrl + item.pic}}\\\"></div><div class=\\\"ipro-cart-name\\\">{{item.name}}</div></div><div class=\\\"ipro-cart-section\\\"><div class=\\\"ipro-cart-price\\\">${{item.cost}}</div><div class=\\\"ipro-cart-delete\\\"><div class=\\\"material-round-btn\\\" ng-click=\\\"cartCtrl.removeItem($index)\\\"><i class=\\\"fa fa-trash\\\"></i></div></div></div></div><h2>Total : ${{index.sum}}</h2>\");}]);"],"sourceRoot":"/source/"}