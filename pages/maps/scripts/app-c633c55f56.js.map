{"version":3,"sources":["scripts/app-c633c55f56.js"],"names":["angular","module","DetailsController","$scope","$stateParams","findPiece","ref","i","indexCtrl","pieces","length","piece","undefined","addToCart","copy","vm","$parent","index","this","refid","controller","$inject","CartController","removeItem","isNumber","cart","splice","refreshSum","removeAllItem","runBlock","$log","debug","run","routerConfig","$stateProvider","$urlRouterProvider","state","url","templateUrl","controllerAs","otherwise","config","IndexController","$location","cartPanelOpen","push","sum","reduce","prev","now","cost","cartLength","showItem","basePicUrl","name","car","pic","desc","vendor","constant","moment","$logProvider","debugEnabled","$templateCache","put"],"mappings":"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","file":"scripts/app-c633c55f56.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('infoProTest', ['ngAnimate', 'ngResource', 'ui.router']);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('infoProTest')\n    .controller('DetailsController', DetailsController);\n\n  DetailsController.$inject =['$scope','$stateParams'];\n\n  /** @ngInject */\n  function DetailsController($scope, $stateParams) {\n    var indexCtrl = $scope.$parent.index;\n\n    var vm = this;\n    vm.refid = $stateParams.ref;\n    vm.piece = findPiece(vm.refid);\n    vm.addToCart = addToCart;\n\n\n    /**\n     * Find a piece in the list of pieces according to given ref.\n     * @param {String} ref\n     */\n    function findPiece(ref) {\n      for(var i = 0; i < indexCtrl.pieces.length; i++) {\n        var piece = indexCtrl.pieces[i];\n        if(piece.ref != null && typeof piece.ref != undefined && piece.ref === ref) {\n          return piece;\n        }\n      }\n    }\n\n    function addToCart() {\n      indexCtrl.addToCart(angular.copy(vm.piece));\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('infoProTest')\n    .controller('CartController', CartController);\n\n  CartController.$inject =['$scope'];\n\n  /** @ngInject */\n  function CartController($scope) {\n    var vm = this;\n    vm.removeItem = removeItem;\n    vm.removeAllItem = removeAllItem;\n\n    var indexCtrl = $scope.$parent.index;\n\n    /**\n     * Remove a piece in cart from an index\n     * @param {Number} index\n     */\n    function removeItem(index) {\n\n      if(index != null && angular.isNumber(index) && indexCtrl.cart.length >= index) {\n        indexCtrl.cart.splice(index, 1);\n      }\n      indexCtrl.refreshSum();\n    }\n\n    function removeAllItem() {\n      indexCtrl.cart = [];\n      indexCtrl.refreshSum();\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('infoProTest')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('infoProTest')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('main', {\n        url: '/',\n        templateUrl: 'app/main/main.html'\n      })\n      .state('details', {\n        url: '/details/:ref',\n        templateUrl: 'app/components/details/details.html',\n        controller: 'DetailsController',\n        controllerAs : 'details'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('infoProTest')\n    .controller('IndexController', IndexController);\n\n  IndexController.$inject = ['$location'];\n\n  /** @ngInject */\n  function IndexController($location) {\n\n    var vm = this;\n\n    vm.cart = [];\n    vm.sum = 0;\n    vm.cartLength = 0;\n    vm.addToCart = addToCart;\n    vm.cartPanelOpen = false;\n    vm.refreshSum = refreshSum;\n    vm.basePicUrl = 'assets/images/';\n\n    vm.showItem = showItem;\n\n    vm.pieces = [\n      {\n        ref: '1',\n        name: 'Filtre à air',\n        car: 'Honda Civic',\n        cost: 25.,\n        pic: 'filtre-a-air-civic.JPG',\n        desc: 'Filtre à air pour Honda Civic LSI modèle 92',\n        vendor: 'Honda',\n        state: 'Occasion'\n      },\n      {\n        ref: '2',\n        name: 'Arbre à came',\n        car: 'Honda Civic',\n        cost: 600.,\n        pic: 'arbre-a-came-civic.jpg',\n        desc: 'Arbre à came pour moteur VTEC sur Civic ou Del Sol.',\n        vendor: 'Honda',\n        state: 'Neuf'\n      },\n      {\n        ref: '3',\n        name: 'Collecteur d\\'échappement',\n        car: 'Honda Civic',\n        cost: 800.,\n        pic: 'collecteur-echappement-civic.jpg',\n        desc: 'Collecteur d\\'échappement titane pour swap sur Honda Civic.',\n        vendor: 'Honda',\n        state: 'Neuf'\n      },\n      {\n        ref: '4',\n        name: 'Ligne d\\'échappement',\n        car: 'Mazda RX-7',\n        cost: 700.,\n        pic: 'ligne-echappement-mazda-rx7.JPG',\n        desc: 'Ligne d\\'échappement Invidia GT-300 pour Mazda RX-7',\n        vendor: 'Invidia',\n        state: 'Neuf'\n      },\n      {\n        ref: '5',\n        name: 'Kit gros freins',\n        car: 'Mazda RX-7',\n        cost: 2800.,\n        pic: 'kit-gros-freins-mazda-rx7.jpg',\n        desc: 'Kit gros freins pour Mazda RX-7 fabriqué par Wilwood',\n        vendor: 'Wilwood',\n        state: 'Neuf'\n      },\n      {\n        ref: '6',\n        name: 'Radiateur Mishimoto',\n        car: 'Nissan Skyline R33',\n        cost: 360.,\n        pic: 'radiateur-mishimoto-skyline-r33.jpg',\n        desc: 'Radiateur pour Nissan Skyline R33 de la marque Mishimoto',\n        vendor: 'Wilwood',\n        state: 'Neuf'\n      },\n      {\n        ref: '7',\n        name: 'Capot en fibre de carbone',\n        car: 'Honda S2000',\n        cost: 800.,\n        pic: 'capot-carbon-aeroworks-s2000.jpg',\n        desc: 'Capot en fibre de carbone pour Honda S2000 réalisé par Aerowork',\n        vendor: 'Aerowork',\n        state: 'Reconditionné'\n      },\n      {\n        ref: '8',\n        name: 'Valves',\n        car: 'Toyota Supra',\n        cost: 22.,\n        pic: 'valves-ferrea-toyota-supra.jpg',\n        desc: 'Valves de la marque Ferrea pour Toyota Supra',\n        vendor: 'Ferrea',\n        state: 'Neuf'\n      },\n      {\n        ref: '9',\n        name: 'Pistons',\n        car: 'Toyota Supra',\n        cost: 1439.,\n        pic: 'pistons-performance-toyota-supra.jpg',\n        desc: 'Pistons de la marque CP Pistons pour Toyota Supra',\n        vendor: 'CP Pistons',\n        state: 'Neuf'\n      }\n    ];\n\n    /**\n     * Add a piece in cart\n     * @param {Object} index\n     */\n    function addToCart(piece) {\n      if(vm.cart.length === 0) {\n        vm.cartPanelOpen = true;\n      }\n      vm.cart.push(piece);\n      refreshSum();\n    }\n\n    /**\n     * Modify sum and length for new values in cart.\n     */\n    function refreshSum () {\n      vm.sum = vm.cart.reduce(function(prev, now){\n        return prev += now.cost || 0;\n      }, 0);\n      vm.cartLength = vm.cart.length;\n    }\n\n    /**\n     *\n     * @param ref\n     */\n    function showItem(ref) {\n      $location.url('/details/' + ref);\n    }\n  }\n})();\n\n/* global moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('infoProTest')\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('infoProTest')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n  }\n\n})();\n\nangular.module(\"infoProTest\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div class=\\\"ipro-piece-container\\\"><h2>Liste des pièces disponibles</h2><div class=\\\"ipro-piece\\\" ng-repeat=\\\"piece in index.pieces\\\" ng-click=\\\"index.showItem(piece.ref)\\\"><img ng-src=\\\"{{index.basePicUrl + piece.pic}}\\\"><div class=\\\"ipro-piece-footer\\\"><div class=\\\"ipro-piece-part\\\"><div class=\\\"ipro-piece-title-content\\\"><div class=\\\"ipro-piece-title\\\">{{piece.name}}</div><div class=\\\"ipro-piece-subtitle\\\">{{piece.car}}</div></div><div class=\\\"ipro-piece-cost-content\\\">${{piece.cost}}</div></div><div class=\\\"ipro-piece-part alone-part\\\"><span ng-if=\\\"piece.desc\\\">\\\"{{piece.desc}}\\\"</span></div></div></div></div>\");\n$templateCache.put(\"app/components/cart/cart.html\",\"<div class=\\\"material-btn color-red\\\" ng-click=\\\"cartCtrl.removeAllItem()\\\">Vider le panier</div><div class=\\\"ipro-cart-elem\\\" ng-repeat=\\\"item in index.cart track by $index\\\"><div class=\\\"ipro-cart-section\\\"><div class=\\\"ipro-cart-thumbnail\\\"><img ng-src=\\\"{{index.basePicUrl + item.pic}}\\\"></div><div class=\\\"ipro-cart-name\\\">{{item.name}}</div></div><div class=\\\"ipro-cart-section\\\"><div class=\\\"ipro-cart-price\\\">${{item.cost}}</div><div class=\\\"ipro-cart-delete\\\"><div class=\\\"material-round-btn color-blue\\\" ng-click=\\\"index.showItem(item.ref)\\\"><i class=\\\"fa fa-eye\\\"></i></div><div class=\\\"material-round-btn color-red\\\" ng-click=\\\"cartCtrl.removeItem($index)\\\"><i class=\\\"fa fa-trash\\\"></i></div></div></div></div><h2>Total : ${{index.sum}}</h2>\");\n$templateCache.put(\"app/components/details/details.html\",\"<div class=\\\"ipro-details-container\\\"><div class=\\\"ipro-details\\\"><div class=\\\"align-right\\\"><a class=\\\"material-btn\\\" ng-href=\\\"#/\\\">Retour</a></div><h2>{{details.piece.name}}</h2><div class=\\\"ipro-details-pic\\\"><img class=\\\"pic-img\\\" ng-src=\\\"{{index.basePicUrl + details.piece.pic}}\\\"></div><div><b>Voiture</b> : {{details.piece.car}}<br><b>Marque</b> : {{details.piece.vendor}}<br><b>Etat</b> : {{details.piece.state}}<hr><b>Description</b> :<br>{{details.piece.desc}}<hr></div><div>Prix à l\\'unité : <span class=\\\"ipro-details-price\\\">${{details.piece.cost}}</span></div><br><div class=\\\"align-right\\\"><div class=\\\"material-btn\\\" ng-click=\\\"details.addToCart()\\\">Ajouter au panier <i class=\\\"fa fa-plus\\\"></i></div></div></div></div>\");}]);"],"sourceRoot":"/source/"}